# =============================================================================
# ENVIRONNEMENT DE TEST - LMS IA PLATFORM
# =============================================================================
# Configuration minimale pour tests reproductibles
# ⚠️ VALEURS DE TEST UNIQUEMENT - PAS DE VRAIES CLÉS

# =============================================================================
# SUPABASE CONFIGURATION (TEST)
# =============================================================================

# Valeurs par défaut Supabase CLI pour tests locaux
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
SUPABASE_JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters-long
SUPABASE_DB_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres
SUPABASE_PROJECT_REF=test-project-ref

# =============================================================================
# IA SERVICES (MOCK)
# =============================================================================

# Clés IA mock pour tests (non fonctionnelles)
GOOGLE_AI_API_KEY=test-gemini-key-32-chars-minimum-length
GEMINI_API_KEY=test-gemini-key-32-chars-minimum-length
GEMINI_MODEL=gemini-2.5-flash-test
OPENAI_API_KEY=sk-test-key-48-chars-minimum-for-openai-testing

# =============================================================================
# PAIEMENTS (MOCK)
# =============================================================================

# Clés Stripe de test publiques (sécurisées)
STRIPE_PUBLISHABLE_KEY=pk_test_test_publishable_key_32_chars_min
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_test_publishable_key_32_chars_min
STRIPE_SECRET_KEY=sk_test_test_secret_key_32_chars_minimum_len
STRIPE_WEBHOOK_SECRET=whsec_test_webhook_secret_32_chars_min

# Domaines Stripe pour CSP tests
STRIPE_JS_DOMAIN=https://js.stripe.com
STRIPE_API_DOMAIN=https://api.stripe.com

# =============================================================================
# CONTENU VIDEO (MOCK)
# =============================================================================

# Tokens Mux mock pour tests
MUX_TOKEN_ID=test-token-id-32-chars-minimum-length
MUX_TOKEN_SECRET=test-token-secret-32-chars-minimum-length
MUX_WEBHOOK_SECRET=test-webhook-secret-32-chars-minimum

# Domaines Mux pour tests
MUX_DOMAIN=image.mux.com
MUX_STREAM_DOMAIN=stream.mux.com
MUX_JS_DOMAIN=https://stream.mux.com

# =============================================================================
# AUTHENTIFICATION SOCIALE (MOCK)
# =============================================================================

# Google OAuth mock pour tests
GOOGLE_CLIENT_ID=test-google-client-id-32-chars-minimum
GOOGLE_CLIENT_SECRET=test-google-client-secret-32-chars-min

# =============================================================================
# CONFIGURATION DÉVELOPPEMENT TEST
# =============================================================================

# Environnement Node.js
NODE_ENV=test

# URLs application test
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api

# Métadonnées app
NEXT_PUBLIC_APP_NAME=LMS IA Test
NEXT_PUBLIC_APP_VERSION=0.1.0-test

# API Configuration
API_TIMEOUT=5000
API_RETRIES=1
ORPC_PREFIX=/api/rpc
API_MAX_BODY=1048576

# Rate limiting test (valeurs réduites)
API_RATE_LIMIT_ANON_PER_MIN=10
API_RATE_LIMIT_USER_PER_MIN=20
RATE_LIMIT_PROVIDER=memory

# Limites de test
MAX_FILE_SIZE=1048576
MAX_UPLOAD_COUNT=2
SESSION_TIMEOUT=300000

# Feature flags désactivés pour tests
NEXT_PUBLIC_FEATURE_AI_CHAT=false
NEXT_PUBLIC_FEATURE_CERTIFICATES=false
NEXT_PUBLIC_FEATURE_ANALYTICS=false
NEXT_PUBLIC_FEATURE_SOCIAL=false

# Middleware auth désactivé pour tests unitaires
NEXT_PUBLIC_ENABLE_AUTH_MIDDLEWARE=false

# Debug et logs
LOG_LEVEL=error
NEXT_PUBLIC_ENABLE_DEBUG_MOCKS=false

# CSP test configuration
CSP_USE_NONCE=false
CSP_REPORT_ONLY=true

# Domaines pour CSP tests
GOOGLE_FONTS_DOMAIN=fonts.googleapis.com
GOOGLE_FONTS_STATIC_DOMAIN=fonts.gstatic.com

# =============================================================================
# TEST ENVIRONMENT SPECIFIC
# =============================================================================

# Variables spécifiques aux tests Vitest
VITEST=true